<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="./resources/css/reset.css" type="text/css" media="all"/>
        <link rel="stylesheet" href="./resources/css/layout.css" type="text/css" media="all"/>
        <link rel="stylesheet" href="./resources/css/style.css" type="text/css" media="all"/>
        <!--        <script type="text/javascript" src="./resources/js/jquery-1.6.js" ></script>-->
        <script type="text/javascript" src="./resources/js/cufon-yui.js"></script>
        <script type="text/javascript" src="./resources/js/cufon-replace.js"></script>
        <script type="text/javascript" src="./resources/js/Didact_Gothic_400.font.js"></script>
        <script type="text/javascript" src="./resources/js/jquery.nivo.slider.pack.js"></script>
        <script type="text/javascript" src="./resources/js/atooltip.jquery.js"></script>
        <script type="text/javascript" src="./resources/js/jquery.jqtransform.js" ></script>
        <script type="text/javascript" src="./resources/js/script.js"></script>
        <script type="text/javascript" src="./resources/js/jquery.easing.1.3.js"></script>

        <title id="title">
            <ui:insert name="title">
                
            </ui:insert>
        </title>
    </h:head>

    <h:body>

        <div class="body1">
            <div class="main">
                <!-- header -->
                <header>
                    <h1><a href="index.html" id="logo"></a></h1>
                    <div align="right" >
                        <!--                        <ul id="icons">
                                                    <li><a href="#" class="normaltip" title="Facebook"><img src="./../resources/images/icon1.jpg" alt="./../loginDialog.jsf"/></a></li>
                                                    <li><a href="#" class="normaltip" title="Twitter"><img src="./../resources/images/icon2.jpg" alt=""/></a></li>
                                                    <li><a href="#" class="normaltip" title="Linkedin"><img src="./../resources/images/icon3.jpg" alt=""/></a></li>
                                                </ul>-->
                        <c:if test="#{empty loginBean.username}">
                            <h:outputLink id="loginLink" value="javascript:void(0)" onclick="dlg.show()" title="login">     
                                <p:graphicImage value="./resources/images/Users-icon.png" />  
                            </h:outputLink>
                        </c:if>

                        <c:if test="#{!empty loginBean.username}">
                            Welcome,#{loginBean.username}<br/>
                            <h:form>
                                <p:commandLink id="logout" ajax="false" actionListener="#{loginBean.doLogout}">
                                    <h:outputText value="Log out" /><br/>
                                </p:commandLink>
                                <p:commandLink id="goManagement" ajax="false" actionListener="#{loginBean.goManagementPage}">
                                    <h:outputText value="Go to management page" /><br/>
                                </p:commandLink>
                            </h:form>
                        </c:if>

                        <p:growl id="growl" showDetail="true" life="3000" />  

                        <p:dialog id="dialog" header="Login" widgetVar="dlg">  
                            <h:form>  
                                <h:panelGrid columns="2" cellpadding="5">  
                                    <h:outputLabel for="username" value="Username:" />  
                                    <p:inputText value="#{loginBean.username}"   
                                                 id="username" required="true" label="username" />  

                                    <h:outputLabel for="password" value="Password:" />  

                                    <p:password value="#{loginBean.password}" id="password" required="true" label="password"/>
                                    <f:facet name="footer">  
                                        <p:commandButton id="loginButton" value="Login" update=":growl"   
                                                         actionListener="#{loginBean.doLogin()}"   
                                                         oncomplete="handleLoginRequest(xhr, status, args)"/>
                                        <h:outputLink value="./register.jsf">
                                            <h:outputText value="Register"/>
                                        </h:outputLink>
                                    </f:facet>  
                                </h:panelGrid>  
                            </h:form>  
                        </p:dialog>

                        <script type="text/javascript">  
                            function handleLoginRequest(xhr, status, args) {  
                                if(args.validationFailed || !args.loggedIn) {  
                                    jQuery('#dialog').effect("shake", { times:3 }, 100);  
                                } else {  
                                    dlg.hide();  
                                    jQuery('#loginLink').fadeOut();  
                                }  
                            }  
                        </script> 
                    </div>
                    <nav>
                        <ul id="menu">
                            <li id="menu_active"><a href="index.jsf">Main Page</a></li>
                            <li><a href="sellingEstateList.jsf">Selling Estate</a></li>
                            <li><a href="rentingEstateList.jsf">Renting Estate</a></li>
                            <li><a href="News.jsf">News</a></li>
                            <li><a href="Contact.jsf">Contact Us</a></li>
                            <li class="end"><a href="AboutUs.jsf">About Us</a></li>
                        </ul>
                    </nav>
                    <div class="ic">More Information about My Sweet Home</div>
                </header>
                <!-- / header --> 
            </div>
        </div>
        <!-- content -->
        <div id="body2" class="body2">   
            <div class="main">
                <section id="content">
                    <div class="wrapper">
                        <article id="col1" class="col1">
                            <ui:insert name="col1">
                            </ui:insert>
                        </article>
                        <article class="col2">
                            <form id="form_1" method="post">
                                <div class="pad1">
                                    <h3>Find Your Property</h3>
                                    <div class="row_select">
                                        <div class="cols">
                                             <h:outputText value="Type of estate: " />
                                                    <p:selectOneMenu id="txtTypeOfEstate" value="#{EstateMBean.typeOfEstateID}">  
                                                            <f:selectItem itemLabel="--Select type--" itemValue="" />  
                                                            <f:selectItems value="#{EstateMBean.typeOfEstateList}" var="typeOfEstate" itemLabel="#{typeOfEstate.typeOfEstateName}" itemValue="#{typeOfEstate.typeOfEstateID}"/>  
                                                    </p:selectOneMenu>
                                        </div>
                                        <div class="cols pad_left1">
                                            <h:outputText value="Category: " />
                                                <p:selectOneMenu id="txtCategory" value="#{EstateMBean.categoryID}">  
                                                    <f:selectItem itemLabel="--Select category--" itemValue="" />  
                                                    <f:selectItems value="#{EstateMBean.categoryList}" var="category" itemLabel="#{category.categoryName}" itemValue="#{category.categoryID}"/>  
                                                </p:selectOneMenu>
                                        </div>
                                    </div>
                                    <div class="row_select">
                                        <div class="cols">
                                             <h:outputText value="City: " />
                                                <p:selectOneMenu id="txtCity" value="#{EstateMBean.cityList}">  
                                                     <f:selectItem itemLabel="--Select city--" itemValue="" />  
                                                        <f:selectItems value="#{EstateMBean.cityList}" var="city" itemLabel="#{city.cityName}" itemValue="#{city.cityID}"/>  
                                                </p:selectOneMenu>
                                        </div>
                                        <div class="cols pad_left1">
                                            <h:outputText value="District: " />
                                                    <p:selectOneMenu id="txtDistrict" value="#{EstateMBean.districtID}">  
                                                        <f:selectItem itemLabel="--Select district--" itemValue="" />  
                                                        <f:selectItems value="#{EstateMBean.districtList}" var="district" itemLabel="#{district.districtName}" itemValue="#{district.districtID}"/>  
                                                    </p:selectOneMenu>
                                        </div>
                                    </div>

                                    <div class="row_select">
                                        <h:outputText value="Area(m2): " />
                                        <p:inputText value="#{EstateMBean.area}" id="txtArea" />
                                    </div>
                                    <div class="row_select">
                                        <div class="cols">
                                            <h:outputText value="Price Range: " />
                                            <p:selectOneMenu id="txtPriceRange" value="#{EstateMBean.firstValue}">  
                                                        <f:selectItem itemLabel="--Select direction--" />  
                                                        <f:selectItem itemLabel="1.000.000" itemValue="1.000.000"/>  
                                                        <f:selectItem itemLabel="2.000.000" itemValue="2.000.000"/>  
                                                        <f:selectItem itemLabel="3.000.000" itemValue="3.000.000"/>  
                                                        <f:selectItem itemLabel="4.000.000" itemValue="4.000.000"/>  
                                            </p:selectOneMenu>
                                        </div>
                                        <div class="cols pad_left1">
                                            <h:outputText value="to:" />
                                            <p:selectOneMenu id="txtTo" value="#{EstateMBean.lastValue}">  
                                                        <f:selectItem itemLabel="--Select direction--" />  
                                                        <f:selectItem itemLabel="5.000.000" itemValue="5.000.000"/>  
                                                        <f:selectItem itemLabel="10.000.000" itemValue="10.000.000"/>  
                                                        <f:selectItem itemLabel="15.000.000" itemValue="15.000.000"/>  
                                                        <f:selectItem itemLabel="20.000.000" itemValue="20.000.000"/>  
                                            </p:selectOneMenu>
                                        </div>
                                    </div>
                                    <div class="row_select">
                                        <div class="cols">
                                              <h:outputText value="Bedroom :" />
                                              <p:selectOneMenu id="txtBedRoom" value="#{EstateMBean.noRoom}">  
                                                        <f:selectItem itemLabel="--Select direction--" />  
                                                        <f:selectItem itemLabel="1" itemValue="1"/>  
                                                        <f:selectItem itemLabel="2" itemValue="2"/>  
                                                        <f:selectItem itemLabel="3" itemValue="3"/>  
                                                        <f:selectItem itemLabel="4" itemValue="4"/> 
                                                        <f:selectItem itemLabel="5" itemValue="5"/> 
                                                        <f:selectItem itemLabel="6" itemValue="6"/> 
                                            </p:selectOneMenu>
                                        </div>
                                        <div class="cols pad_left1">
                                            <h:outputText value="Bathroom :" />
                                            <p:selectOneMenu id="txtBathroom" value="#{EstateMBean.noToilet}">  
                                                        <f:selectItem itemLabel="--Select direction--" />  
                                                        <f:selectItem itemLabel="1" itemValue="1"/>  
                                                        <f:selectItem itemLabel="2" itemValue="2"/>  
                                                        <f:selectItem itemLabel="3" itemValue="3"/>  
                                                        <f:selectItem itemLabel="4" itemValue="4"/> 
                                                        <f:selectItem itemLabel="5" itemValue="5"/> 
                                                        <f:selectItem itemLabel="6" itemValue="6"/> 
                                            </p:selectOneMenu>
                                        </div>
                                    </div>
                                    <div class="row_select pad_bot1">
                                        <div class="cols">
                                            <p:commandButton value="Search" update=":form_1:display" action="#{EstateMBean.estate}" />
                                            
                                        </div>
                                    </div>

                                </div>
                                 <h:panelGrid id="display" columns="9" cellpadding="10" style="margin:0 auto;" >
                                      <f:facet name="header">
                                        <h:outputText value="Search Details"/>
                                       </f:facet>
                                         <h:outputText value="Type of estate:"/>
                                         <h:outputText value="#{typeOfEstate.typeOfEstateName}" style="font-weight: bold"/>              
                                         <h:outputText value="Category:"/>
                                         <h:outputText value="#{category.categoryName}" style="font-weight: bold"/>
                                          <h:outputText value="City:"/>
                                          <h:outputText value="#{city.cityName}" style="font-weight: bold"/>              
                                         <h:outputText value="District:"/>
                                         <h:outputText value="#{district.districtName}" style="font-weight: bold"/>
                                          <h:outputText value="Area(m2):"/>
                                          <h:outputText value="#{EstateMBean.area}" style="font-weight: bold"/>              
                                         <h:outputText value="Price Range:"/>
                                         <h:outputText value="#{EstateMBean.firstValue}" style="font-weight: bold"/>
                                          <h:outputText value="To:"/>
                                          <h:outputText value="#{EstateMBean.lastValue}" style="font-weight: bold"/>              
                                         <h:outputText value="Bedroom :"/>
                                         <h:outputText value="#{EstateMBean.noRoom}" style="font-weight: bold"/>
                                         <h:outputText value="Bathroom"/>
                                         <h:outputText value="#{EstateMBean.noToilet}" style="font-weight: bold"/>
                                 </h:panelGrid>>
                                
                            </form>
                        </article>
                    </div>
                    <div class="wrapper">
                        <article id="col1_2" class="col1">
                            <ui:insert name="col1_2">
                            </ui:insert>
                        </article>
                        <article id="col2_2" class="col2">
                            <ui:insert name="col2_2">
                            </ui:insert>
                        </article>
                    </div>
                </section>
            </div>
        </div>
        <div id="body3" class="body3">
            <ui:insert name="body3">
            </ui:insert>
        </div>
        <!-- / content -->
        <div id="body4" class="body4">
            <div class="main">
                <!-- footer -->
                <footer>
                    <span class="call">Call Center phone: <span>1-800-567-8934</span></span>
                    <p><b>ACE-Danang1 - eProject SEM 4 - Group 3<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Huy - Long - Tan - Vinh - Trung<br/>
                            Website: <a href="http://www.softech.vn/">http://www.softech.vn</a> 
                        </b></p>
                    <!-- {%FOOTER_LINK} -->
                </footer>
                <!-- / footer -->
            </div>
        </div>
    </h:body>

</html>
